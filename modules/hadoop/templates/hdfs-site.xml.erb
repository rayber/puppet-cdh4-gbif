<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<configuration>
  <property>
    <name>dfs.permissions.enabled</name>
    <value>false</value>
  </property>

  <property>
    <name>dfs.replication</name>
    <value><%= hdfs_replication -%></value>
  </property>

  <property>
     <name>dfs.namenode.name.dir</name>
     <value><%= hadoop_disks.collect {|hadoop_disk| hadoop_disk + "/hadoop/dfs/name"}.join(',') -%></value>
     <final>true</final>
  </property>

  <property>
    <name>dfs.datanode.data.dir</name>
    <value><%= hadoop_disks.collect {|hadoop_disk| hadoop_disk + "/hadoop/dfs/data"}.join(',') -%></value>
    <final>true</final>
  </property>

  <property>
    <name>dfs.datanode.balance.bandwidthPerSec</name>
    <value>2097152</value>
  </property>

  <property>
    <name>dfs.hosts</name>
    <value>/etc/hadoop/conf/allowed_hosts</value>
  </property>

  <property>
    <name>dfs.hosts.exclude</name>
    <value>/etc/hadoop/conf/excluded_hosts</value>
  </property>

  <property>
    <name>dfs.datanode.handler.count</name>
    <value>5</value>
    <final>true</final>
  </property>

  <property>
    <name>dfs.namenode.handler.count</name>
    <value>20</value>
    <final>true</final>
  </property>

  <property>
    <name>dfs.datanode.max.transfer.threads</name>
    <value>4096</value>
    <final>true</final>
  </property>
  <property>
    <name>dfs.support.append</name>
    <value>true</value>
  </property>  
  <property>
    <name>dfs.blocksize</name>
    <value>134217728</value>
  </property>
</configuration>
